<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>scala-spring webapp</title>

        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
        <script type="text/javascript">


            $(document).ready(function() {

                $("#button").click(function(event) {
                    $.post("/magic/ious",
                    {
                        ower : $("#ower").val(),
                        owed : $("#owed").val(),
                        amount : $("#amount").val()
                    },
                    getJson
                )
                })
            })

            function getJson() {
                $.getJSON("/magic/ious/" + $("#ower").val(), writeIOUs)
            }

            function writeIOUs(ious) {
                var iousDiv = $("#ious")
                iousDiv.empty()
                $.each(ious, function(i,iou) {
                    iousDiv.append(iou.ower + " owes " + iou.owed + " the sum of $" + iou.amount).append("<br/>")
                }
            )}


        </script>

    </head>
    <body>
        <a href="magic/ious/alive">Alive Test</a>

        <h1>Add An IOU</h1>
        <input id="ower" type="text"> owes
        <input id="owed" type="text"> this amount:
        <input id="amount" type="text">
        <input id="button" type="submit">

        <h1>All IOUs</h1>
        <div id="ious"></div>
    </body>
</html>